<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Toko Online</title>
    <style>
        /* Gaya Umum */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f9f9f9;
        }

        header {
            background-color: #ff5722;
            color: white;
            padding: 10px 20px;
            text-align: center;
        }

        .login-container {
            text-align: center;
            margin: 20px;
        }

        .login-container button {
            display: block;
            width: 80%;
            max-width: 300px;
            margin: 10px auto;
            padding: 10px;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
        }

        .btn-google {
            background-color: #db4437;
            color: white;
        }

        .btn-phone {
            background-color: #0f9d58;
            color: white;
        }

        .btn-email {
            background-color: #4285f4;
            color: white;
        }
    </style>
    <!-- Tambahkan Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.21.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.21.0/firebase-auth.js"></script>
</head>
<body>

    <!-- Header -->
    <header>
        Toko Online - Promo Terbaik
    </header>

    <!-- Login/Register -->
    <div class="login-container">
        <h2>Login atau Registrasi</h2>
        <button class="btn-google" id="googleLogin">Login dengan Google</button>
        <button class="btn-phone" id="phoneLogin">Login dengan Nomor Telepon</button>
        <button class="btn-email" id="emailLogin">Login dengan Email</button>
    </div>

    <!-- Firebase Initialization -->
    <script>
        // Konfigurasi Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyBAA0WdhfX3yqXhVXsBoT6FP386YX_b5xo",
            authDomain: "web-profile-1a15b.firebaseapp.com",
            projectId: "web-profile-1a15b",
            storageBucket: "web-profile-1a15b.firebasestorage.app",
            messagingSenderId: "878572807565",
            appId: "1:878572807565:web:1ff77da9b899f4c55949c4"
        };

        // Inisialisasi Firebase
        const app = firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();

        // Login dengan Google
        document.getElementById('googleLogin').addEventListener('click', () => {
            const provider = new firebase.auth.GoogleAuthProvider();
            auth.signInWithPopup(provider)
                .then(result => {
                    alert(`Selamat datang, ${result.user.displayName}`);
                })
                .catch(error => {
                    alert(`Error: ${error.message}`);
                });
        });

        // Login dengan Nomor Telepon
        document.getElementById('phoneLogin').addEventListener('click', () => {
            const phoneNumber = prompt("Masukkan nomor telepon Anda (dengan kode negara):");
            const appVerifier = new firebase.auth.RecaptchaVerifier('phoneLogin', {
                size: 'invisible',
                callback: response => {
                    alert('Verifikasi berhasil!');
                }
            });
            auth.signInWithPhoneNumber(phoneNumber, appVerifier)
                .then(confirmationResult => {
                    const code = prompt("Masukkan kode verifikasi yang diterima:");
                    return confirmationResult.confirm(code);
                })
                .then(result => {
                    alert(`Selamat datang, ${result.user.phoneNumber}`);
                })
                .catch(error => {
                    alert(`Error: ${error.message}`);
                });
        });

        // Login dengan Email
        document.getElementById('emailLogin').addEventListener('click', () => {
            const email = prompt("Masukkan email Anda:");
            const password = prompt("Masukkan password Anda:");
            auth.signInWithEmailAndPassword(email, password)
                .then(result => {
                    alert(`Selamat datang, ${result.user.email}`);
                })
                .catch(error => {
                    if (error.code === 'auth/user-not-found') {
                        auth.createUserWithEmailAndPassword(email, password)
                            .then(result => {
                                alert(`Akun berhasil dibuat, selamat datang ${result.user.email}`);
                            })
                            .catch(err => alert(`Error: ${err.message}`));
                    } else {
                        alert(`Error: ${error.message}`);
                    }
                });
        });
    </script>
</body>
</html>
